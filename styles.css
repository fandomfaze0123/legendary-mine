/* Casino-style theme */
*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
body{background:linear-gradient(180deg,#3b0f0f,#13060a);color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:0}
.container{width:100%;max-width:820px;padding:28px}
h1{text-align:center;margin:0 0 12px;font-size:1.6rem;color:#ffdca8;text-shadow:0 2px 8px rgba(0,0,0,0.6)}

.top-stats{display:flex;justify-content:center;gap:18px;margin-bottom:12px}
.top-stats .score,.top-stats .credits{background:linear-gradient(180deg,#3b0b0b,#5a0f0f);padding:8px 12px;border-radius:8px;border:2px solid #ffd27a;font-weight:700;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.6)}

.music-control{display:flex;align-items:center;margin-left:8px}
.music-btn{background:linear-gradient(180deg,#4b0b0b,#7a0b0b);color:#ffd27a;padding:6px 10px;border-radius:8px;border:2px solid #ffd27a;font-weight:700;cursor:pointer;box-shadow:0 6px 12px rgba(0,0,0,0.4);transition:transform 120ms,opacity 120ms}
.music-btn.playing{background:linear-gradient(180deg,#ffd27a,#ffb84d);color:#3b0303}
.music-btn:active{transform:translateY(2px)}

.sound-control{display:flex;align-items:center;margin-left:8px}
.sound-btn{background:linear-gradient(180deg,#4b0b0b,#7a0b0b);color:#ffd27a;padding:6px 10px;border-radius:8px;border:2px solid #ffd27a;font-weight:700;cursor:pointer;box-shadow:0 6px 12px rgba(0,0,0,0.4);transition:transform 120ms,opacity 120ms}
.sound-btn.off{background:linear-gradient(180deg,#555,#444);color:#ddd}
.sound-btn:active{transform:translateY(2px)}

.luck{background:linear-gradient(180deg,#3b0b0b,#5a0f0f);padding:8px 12px;border-radius:8px;border:2px solid #ffd27a;font-weight:700;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.6)}
.luck-control{display:flex;align-items:center;margin-left:8px}
.luck-btn{background:linear-gradient(180deg,#ffb84d,#ffd27a);color:#3b0303;padding:6px 10px;border-radius:8px;border:2px solid #5c1e00;font-weight:700;cursor:pointer;box-shadow:0 6px 12px rgba(0,0,0,0.4);transition:transform 120ms,opacity 120ms}
.luck-btn[disabled]{opacity:0.45;cursor:not-allowed}
.luck-btn:active{transform:translateY(2px)}

.machine{background:linear-gradient(180deg,#5a0a0a,#2a0505);border-radius:14px;padding:18px;box-shadow:0 12px 40px rgba(0,0,0,0.7), inset 0 2px 10px rgba(255,255,255,0.02);border:4px solid #7a0b0b;position:relative;overflow:hidden}

.lights{display:flex;justify-content:center;gap:10px;padding:8px 6px;margin-bottom:10px}
.bulb{width:14px;height:14px;border-radius:50%;background:linear-gradient(180deg,#fff6b8,#ffb84d);box-shadow:0 0 10px rgba(255,180,60,0.25);opacity:0.95}
.bulb{animation:flash 1.6s infinite ease-in-out}
.bulb:nth-child(2n){animation-delay:0.15s}
.bulb:nth-child(3n){animation-delay:0.3s}
.bulb:nth-child(4n){animation-delay:0.45s}

@keyframes flash{0%,100%{transform:scale(0.9);filter:brightness(0.9)}50%{transform:scale(1.15);filter:brightness(1.7)}}

.slots{display:flex;gap:18px;justify-content:center;margin-bottom:18px}
.reel{width:120px;height:120px;border-radius:10px;display:flex;align-items:center;justify-content:center;border:5px solid rgba(255,215,120,0.14);backdrop-filter: blur(3px);background:linear-gradient(180deg,#300606,#5c0c0c);box-shadow:0 6px 26px rgba(0,0,0,0.6), 0 0 18px rgba(255,80,80,0.04) inset}
.symbol{font-size:3.6rem;display:flex;align-items:center;justify-content:center;transition:transform 420ms cubic-bezier(.2,.9,.3,1);text-shadow:0 2px 6px rgba(0,0,0,0.6)}

.controls{display:flex;justify-content:space-between;align-items:center;padding:0 10px 10px;gap:12px}
.message{font-style:italic;color:#ffd;flex:1;text-align:center}

.trade-area{display:flex;justify-content:center;margin-left:8px}
.trade-btn{background:linear-gradient(180deg,#ffd27a,#ffb85a);color:#3b0303;padding:8px 12px;border-radius:8px;border:2px solid #5c1e00;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.45);transition:transform 120ms,opacity 120ms}
.trade-btn[disabled]{opacity:0.45;cursor:not-allowed;transform:none}
.trade-btn:active{transform:translateY(2px)}

/* Game over overlay */
.game-over{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(rgba(0,0,0,0.6),rgba(0,0,0,0.7));z-index:60;opacity:0;pointer-events:none;transition:opacity 200ms}
.game-over[aria-hidden="false"]{opacity:1;pointer-events:auto}
.game-over-panel{background:linear-gradient(180deg,#2b0000,#5a0b0b);color:#fff;padding:28px;border-radius:12px;border:3px solid #ffd27a;box-shadow:0 20px 60px rgba(0,0,0,0.7);text-align:center;max-width:320px}
.game-over-panel h2{margin:0 0 8px;font-size:1.4rem;color:#ffd27a}
.game-over-panel p{margin:6px 0;color:#ffeccc}
.game-over-panel .prompt{margin-top:12px;font-weight:700}

.lever-area{display:flex;justify-content:center;margin-top:10px}
#lever{position:relative;width:80px;height:200px;background:transparent;border-radius:10px;border:none;cursor:pointer;display:flex;align-items:flex-start;justify-content:center;padding:6px;box-shadow:none;transition:transform 200ms;transform-origin:50% 80%}
/* hinge behind the rod (moved to bottom so knob sits at top) */
.lever-hinge{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);width:34px;height:14px;background:radial-gradient(circle at 30% 30%,#ffd27a,#b96f2a);border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.6) inset}
/* the stick: anchored near the hinge at bottom and extends upward */
.lever-rod{position:absolute;bottom:24px;left:50%;transform-origin:bottom center;transform:translateX(-50%) rotate(0deg);width:12px;height:120px;background:linear-gradient(180deg,#d9c08a,#8a6b3a);border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.6), inset 0 2px 6px rgba(255,255,255,0.06)}
/* the spherical knob (now at the top of the stick) */
.lever-knob{position:absolute;top:12px;left:50%;transform:translateX(-50%);width:38px;height:38px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ffd27a,#ff7a3a);box-shadow:0 8px 18px rgba(0,0,0,0.6), 0 0 18px rgba(255,140,60,0.18);border:2px solid rgba(255,255,255,0.08)}

/* when the lever (button) is pressed we apply a small rotation to simulate the pull (opposite direction now) */
#lever:active .lever-rod{transform:translateX(-50%) rotate(-18deg)}
#lever:active{transform:translateY(6px)}
.win{outline:6px solid rgba(255,215,0,0.35);box-shadow:0 0 40px rgba(255,200,40,0.25)}

/* small responsive tweaks */
@media (max-width:520px){.reel{width:84px;height:84px}.symbol{font-size:2.4rem}.container{padding:14px}}
